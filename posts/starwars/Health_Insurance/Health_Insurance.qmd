---
title: Health Insurance
author: Marcus Smith
date: 2024-05-05
categories: [r, tidyverse, data-analytics, health-insurance]
image: health-insurance.png

execute: 
  warning: false
  message: false
  
toc: true
---
```{r}
#| include: false

library(knitr)
library(rmarkdown)
library(tidyverse)
library(skimr)
library(ggthemes)
library(hrbrthemes)

theme_set(theme_ipsum()+
          theme(strip.background =element_rect(fill="lightgray"),
                axis.title.x  = element_text(angle = 0,
                                            size = rel(1.5),
                                            margin = margin(10,0,0,0)),
                axis.title.y  = element_text(angle = 0,
                                            size = rel(1.5),
                                            margin = margin(0,10,0,0))
                )
          )
```

Let's analyze the `health_ins` data:

```{r}
#| echo: true
library(tidyverse)
library(skimr)
mpg
health_cust <- read_csv(
  'https://bcdanl.github.io/data/custdata_rev.csv'
)
```


## Variable Description for `health_ins` data.frame

The following describes the variables in the `health_ins` data.frame.

- `custid`: ID of customer
- `sex`: Sex
- `is_employed`: Employment status
  - `NA`: Unknown or not applicable
  - `TRUE`: Employed
  - `FALSE`: Unemployed
- `income`: Income (in $)
- `marital_status`: Marital status
- `housing_type`: Housing type
- `recent_move`: 
  - `TRUE`: Recently moved
  - `FALSE`: Not recently moved
- `age`: Age
- `state_of_res`: State of residence
- `gas_usage`: Gas usage
  - `NA`: Unknown or not applicable
  - `001`: Included in rent or condo fee
  - `002`: Included in electricity payment
  - `003`: No charge or gas not used
  - `004`-`999`: $4 to $999 (rounded and top-coded)
- `health_ins`: Health insuarance status
  - `TRUE`: customer with health insuarance 
  - `FALSE`: customer without health insuarance 

## Marital Status and Health Insurance 

```{r}
health_cust2 <- filter(health_cust, age > 0, age < 100, income > 0)
```



```{r}
ggplot(data = health_cust2) +
  geom_bar(mapping = 
             aes(x = marital_status,
                 fill = health_ins),
           position = "dodge")

# Within all marital status categories, there are more customers without health insurance then there are with health insurance. That being said, there are approximately 320,000 married customers without health insurance and 20,000 with health insurance. Approximately, 150,000 never married customers without health insurance and 30,000 with health insurance. For widowed customer, there is approximately 5000 customers without health insurance, and less than 500 customers with health insurance. Lastly. there is approximately 9000 divorced/separated customers without health insurance and 1000 customers with health insurance. 
```
